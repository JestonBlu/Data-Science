---
output: html_document
---

## **Create 3D animation that can be embedded in presentations**

This code requires that you have Image Magik installed in order to convert pictures into one animation


```r
library(mvtnorm)
library(rgl)


dta = data.frame(rmvnorm(1000, mean = rep(0, 3), sigma = diag(3)))
colnames(dta) = c("x", "y", "z")

plot3d(x = dta$x, y = dta$y, z = dta$z, box = NA)

dir.create("animation")
for (i in 1:90) {
  view3d(userMatrix=rotationMatrix(2*pi * i/90, 1, -1, -1))
  rgl.snapshot(filename=paste("animation/frame-",
                              sprintf("%03d", i), ".png", sep=""))
}
```

Additional code needs to be run from a terminal in the `animation` directory in order to compile the images into an animation

`convert -delay 5 -loop 0 frame*.png animated.gif`

[Animation](animated.gif)